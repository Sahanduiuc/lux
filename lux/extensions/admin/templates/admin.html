<div class="admin admin-{{theme}}" ng-controller="page" ng-model="page">
    <nav class="navbar navbar-{{theme}} navbar-admin navbar-fixed-top" role="navigation">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".sidebar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a href="/" class="navbar-brand" target="_self">$site_name</a>
        </div>
        <ul class="nav navbar-top-links navbar-right" ng-cloak>
            <li><a href="/{{user.username}}" target="_self">{{user.username}}</a></li>
            <li><a href="#" ng-click="logout($event, '/logout')" class="tooltipped" data-placement="bottom" title="Sign out"><i class="fa fa-sign-out fa-lg"></i></a></li>
        </ul>
        <div class="navbar-{{theme}} admin-nav" role="navigation" ng-cloak>
            <div class="sidebar-collapse" ng-class="sidebar_collapse" ng-model='sidebar_collapse'>
                <ul id="side-menu" class="nav nav-side">
                    <li class="sidebar-search">
                        <div class="input-group custom-search-form">
                            <input class="form-control" type="text" placeholder="Search...">
                            <span class="input-group-btn">
                                <button class="btn btn-default" type="button" ng-click="search()">
                                    <i class="fa fa-search"></i>
                                </button>
                            </span>
                        </div>
                    </li>
                    <li ng-repeat="link in sitemap">
                        <a ng-if="!link.links" href="{{link.href}}" ng-click="loadPage($event)">{{link.name}}</a>
                        <a ng-if="link.links" href="{{link.href}}" class="with-children" ng-click="loadPage($event)">{{link.name}}</a>
                        <a ng-if="link.links" href="#" class="pull-right toggle" ng-click="togglePage($event)">
                            <i class="fa" ng-class="{'fa-chevron-left': !link.active, 'fa-chevron-down': link.active}"></i></a>
                        <ul ng-if="link.links" class="nav nav-second-level collapse" ng-class="{in: link.active}">
                            <li ng-repeat="link in link.links">
                                <a href="{{link.href}}" ng-click="loadPage($event)">{{link.name}}</a>
                            </li>
                        </ul>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
    <div class="admin-page" ng-cloak>
        <div class="ribbon {{theme}}">
            <ol class="breadcrumb">
                <li ng-repeat="link in page.parents">
                    <a href="{{link.href}}" target="{{link.target}}" ng-click="loadPage($event)">{{link.name}}</a>
                </li>
                <li class="active">{{page.name}}</li>
            </ol>
        </div>
        <div class='admin-main'>
            <div class="row">
                <div class="col-sm-12">
                    <h3 ng-if="page.title">{{page.title}}</h3>
                    <hr>
                </div>
            </div>
            <div ng-view></div>
        </div>
    </div>
    $page_footer
</div>
